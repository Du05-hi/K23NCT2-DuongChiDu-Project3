<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Chi ti·∫øt ƒë∆°n h√†ng</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>

        body {
            background:#faf7f1;
            font-family:"Courier New", monospace;
            color:#3b362a;
        }

        /* ===== CARD CH√çNH ===== */
        .order-card {
            background:white;
            padding:35px;
            border-radius:20px;
            border:1px solid #e6ddc8;
            box-shadow:0 8px 25px rgba(0,0,0,0.15);
            transition:.25s ease;
        }

        .order-card:hover {
            transform:translateY(-3px);
        }

        /* ===== TI√äU ƒê·ªÄ ===== */
        h3 {
            font-weight:800;
            font-size:26px;
            color:#3d4f37;
            letter-spacing:1px;
        }

        .section-title {
            font-size:20px;
            font-weight:800;
            color:#4d3c33;
            border-left:5px solid #415738;
            padding-left:12px;
            margin:25px 0 15px;
        }

        /* ===== INFO BOX ===== */
        .info-box {
            background:#fffdf8;
            padding:18px;
            border-radius:14px;
            border:1px solid #e3d7c9;
            box-shadow:0 3px 12px rgba(0,0,0,.08);
        }

        /* ===== BADGE TR·∫†NG TH√ÅI ===== */
        .badge-status {
            padding:6px 12px;
            border-radius:8px;
            font-size:14px;
            font-weight:700;
        }
        .status-PENDING { background:#ffefd3; color:#a66b00; }
        .status-COMPLETED { background:#e4f4e7; color:#2e7d32; }
        .status-CANCELLED { background:#fde3e3; color:#d32f2f; }

        /* ===== TABLE ===== */
        table {
            background:white;
            border-radius:14px;
            overflow:hidden;
            border:1px solid #e5d6c5;
        }

        thead {
            background:#e8d7c4 !important;
            color:#4a362c !important;
            font-weight:700;
            font-size:15px;
        }

        tbody tr:hover {
            background:#f0e7dd !important;
        }

        /* ===== T·ªîNG TI·ªÄN ===== */
        .total-box {
            font-size:22px;
            font-weight:800;
            color:#a6281b;
            margin-top:20px;
            text-align:right;
        }

        /* ===== BUTTON ===== */
        .back-btn {
            background:#415738;
            color:white;
            border-radius:12px;
            padding:10px 22px;
            font-weight:700;
            transition:0.2s ease;
        }

        .back-btn:hover {
            background:#2e4129;
            color:white;
            transform:translateY(-2px);
        }

    </style>
</head>

<body>

<div th:replace="layout/navbar :: navbar"></div>

<div class="container mt-4 mb-5">

    <div class="order-card">

        <h3 class="mb-3">
            üì¶ Chi ti·∫øt ƒë∆°n h√†ng #<span th:text="${order.id}"></span>
        </h3>

        <!-- TH√îNG TIN ƒê∆†N -->
        <div class="section-title">Th√¥ng tin ƒë∆°n h√†ng</div>

        <div class="info-box">

            <p><strong>Ng√†y ƒë·∫∑t:</strong>
                <span th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}"></span>
            </p>

            <p><strong>Tr·∫°ng th√°i:</strong>
                <span class="badge-status"
                      th:classappend="' status-' + ${order.status}"
                      th:text="${order.status}"></span>
            </p>

            <p><strong>Ng∆∞·ªùi nh·∫≠n:</strong> <span th:text="${order.customerName}"></span></p>

            <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> <span th:text="${order.phone}"></span></p>

            <p><strong>ƒê·ªãa ch·ªâ giao h√†ng:</strong> <span th:text="${order.address}"></span></p>

            <p><strong>Thanh to√°n:</strong>
                <span class="fw-bold text-primary" th:text="${order.paymentMethod}"></span>
            </p>

        </div>

        <!-- DANH S√ÅCH S·∫¢N PH·∫®M -->
        <div class="section-title">S·∫£n ph·∫©m ƒë√£ ƒë·∫∑t</div>

        <table class="table table-striped align-middle">
            <thead>
            <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>T√πy ch·ªçn</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Gi√°</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="item : ${items}">

                <!-- T√äN S·∫¢N PH·∫®M -->
                <td class="fw-bold" th:text="${item.product.name}"></td>

                <!-- OPTIONS -->
                <td>
                    Size: <span th:text="${item.size}"></span> <br>
                    ƒê∆∞·ªùng: <span th:text="${item.sugar}"></span> <br>
                    ƒê√°: <span th:text="${item.ice}"></span> <br>
                    Topping: <span th:text="${item.toppingNames}"></span>
                </td>

                <!-- S·ªê L∆Ø·ª¢NG -->
                <td th:text="${item.quantity}"></td>

                <!-- GI√Å -->
                <td class="text-danger fw-bold"
                    th:text="${#numbers.formatDecimal(item.price,0,'COMMA',0,'POINT')} + ' ƒë'"></td>

            </tr>
            </tbody>
        </table>

        <!-- T·ªîNG TI·ªÄN -->
        <div class="total-box">
            T·ªïng thanh to√°n:
            <span th:text="${#numbers.formatDecimal(order.total,0,'COMMA',0,'POINT')} + ' ƒë'"></span>
        </div>

        <!-- QUAY L·∫†I -->
        <div class="mt-3">
            <a href="/orders/history" class="back-btn">‚óÄ Quay l·∫°i l·ªãch s·ª≠ ƒë∆°n h√†ng</a>
        </div>

    </div>

</div>

</body>
</html>
