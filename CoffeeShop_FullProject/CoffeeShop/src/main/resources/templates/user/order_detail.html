<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Chi ti·∫øt ƒë∆°n h√†ng</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>
        body {
            background: #f3ede3;
            font-family: 'Segoe UI', sans-serif;
        }

        .order-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.18);
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: #4e342e;
            border-left: 4px solid #6d4c41;
            padding-left: 10px;
            margin-bottom: 12px;
        }

        .info-box {
            background: #f7f2ec;
            padding: 14px;
            border-radius: 12px;
            margin-bottom: 15px;
        }

        .back-btn {
            background: #6d4c41;
            color: white;
            border-radius: 10px;
            padding: 10px 22px;
        }
        .back-btn:hover {
            opacity: .85;
            color: white;
        }

        table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }
    </style>
</head>

<body>

<div th:replace="layout/navbar :: navbar"></div>

<div class="container mt-4 mb-5">

    <div class="order-card">

        <h3 class="mb-3 fw-bold">
            üì¶ Chi ti·∫øt ƒë∆°n h√†ng #<span th:text="${order.id}"></span>
        </h3>

        <!-- TH√îNG TIN ƒê∆†N -->
        <div class="section-title">Th√¥ng tin ƒë∆°n h√†ng</div>

        <div class="info-box">
            <p class="mb-1"><strong>Ng√†y ƒë·∫∑t:</strong>
                <span th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}"></span>
            </p>

            <p class="mb-1"><strong>Tr·∫°ng th√°i:</strong>
                <span class="badge bg-warning text-dark" th:text="${order.status}"></span>
            </p>

            <p class="mb-1"><strong>Ng∆∞·ªùi nh·∫≠n:</strong>
                <span th:text="${order.customerName}"></span>
            </p>

            <p class="mb-1"><strong>S·ªë ƒëi·ªán tho·∫°i:</strong>
                <span th:text="${order.phone}"></span>
            </p>

            <p class="mb-1"><strong>ƒê·ªãa ch·ªâ giao h√†ng:</strong>
                <span th:text="${order.address}"></span>
            </p>

            <p class="mb-1"><strong>Thanh to√°n:</strong>
                <span class="text-primary fw-bold" th:text="${order.paymentMethod}"></span>
            </p>
        </div>

        <!-- DANH S√ÅCH S·∫¢N PH·∫®M -->
        <div class="section-title">S·∫£n ph·∫©m ƒë√£ ƒë·∫∑t</div>

        <table class="table table-striped">
            <thead style="background:#6d4c41; color:white;">
            <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>T√πy ch·ªçn</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Gi√°</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="item : ${items}">
                <td class="fw-bold" th:text="${item.product.name}"></td>

                <td>
                    <div>Size: <span th:text="${item.size}"></span></div>
                    <div>ƒê∆∞·ªùng: <span th:text="${item.sugar}"></span></div>
                    <div>ƒê√°: <span th:text="${item.ice}"></span></div>
                    <div>Topping: <span th:text="${item.toppingNames}"></span></div>
                </td>

                <td th:text="${item.quantity}"></td>

                <td class="text-danger fw-bold" th:text="${item.price} + ' ƒë'"></td>
            </tr>
            </tbody>
        </table>

        <!-- T·ªîNG TI·ªÄN -->
        <h4 class="text-end mt-4">
            T·ªïng thanh to√°n:
            <span class="text-danger fw-bold" style="font-size:22px;"
                  th:text="${order.total} + ' ƒë'"></span>
        </h4>

        <!-- BACK -->
        <div class="text-start mt-3">
            <a href="/orders/history" class="back-btn">‚óÄ Quay l·∫°i l·ªãch s·ª≠ ƒë∆°n h√†ng</a>
        </div>

    </div>

</div>

</body>
</html>
