<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi ti·∫øt s·∫£n ph·∫©m</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>
        body {
            background-color: #f3ede3;
            font-family: 'Segoe UI', sans-serif;
        }

        .product-img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .related-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            overflow: hidden;
        }
    </style>
</head>

<body>

<!-- ‚≠ê‚≠ê NAVBAR ‚≠ê‚≠ê -->
<div th:replace="layout/navbar :: navbar"></div>


<div class="container mt-4">

    <a href="/products" class="btn btn-secondary mb-3">‚¨Ö Tr·ªü v·ªÅ</a>

    <div class="row">

        <!-- ·∫¢NH -->
        <div class="col-md-5">
            <img th:src="@{'/img/' + ${product.image}}"
                 class="product-img">
        </div>

        <!-- TH√îNG TIN -->
        <div class="col-md-7">
            <h2 th:text="${product.name}"></h2>

            <h4 class="text-danger fw-bold"
                th:text="${product.price} + ' ƒë'"></h4>

            <p class="mt-3" th:text="${product.description}"></p>

            <!-- =================== FORM TH√äM GI·ªé H√ÄNG =================== -->
            <form th:action="@{/cart/add}" method="post" class="mt-3">

                <input type="hidden" name="productId" th:value="${product.id}">
                <input type="hidden" name="quantity" value="1">

                <!-- SIZE -->
                <label class="mt-2">Size</label>
                <select name="size" class="form-select">
                    <option value="M">Size M</option>
                    <option value="L">Size L (+6.000ƒë)</option>
                </select>

                <!-- ƒê∆Ø·ªúNG -->
                <label class="mt-3">ƒê·ªô ng·ªçt</label>
                <select name="sugar" class="form-select">
                    <option>0%</option>
                    <option>50%</option>
                    <option selected>100%</option>
                </select>

                <!-- ƒê√Å -->
                <label class="mt-3">ƒê√°</label>
                <select name="ice" class="form-select">
                    <option>Kh√¥ng ƒë√°</option>
                    <option>√çt ƒë√°</option>
                    <option selected>B√¨nh th∆∞·ªùng</option>
                    <option>Nhi·ªÅu ƒë√°</option>
                </select>

                <!-- TOPPING -->
                <label class="mt-3">Topping</label>
                <div th:each="t : ${toppings}">
                    <label class="form-check-label">
                        <input class="form-check-input" type="checkbox"
                               name="toppingIds"
                               th:value="${t.id}">
                        <span th:text="${t.name}"></span>
                        (+<span th:text="${t.price}"></span> ƒë)
                    </label>
                    <br/>
                </div>

                <button type="submit"
                        class="btn btn-lg mt-3"
                        style="background:#6d4c41;color:white;">
                    üõí Th√™m v√†o gi·ªè h√†ng
                </button>

            </form>
            <!-- ================= END FORM ================= -->

        </div>

    </div>


    <!-- ==================== S·∫¢N PH·∫®M LI√äN QUAN ==================== -->
    <h4 class="mt-5">S·∫£n ph·∫©m li√™n quan</h4>

    <div class="row mt-3" th:if="${related != null}">
        <div class="col-md-3 mb-4" th:each="r : ${related}">
            <div class="related-card">

                <img th:src="@{'/img/' + ${r.image}}"
                     style="width:100%;height:180px;object-fit:cover;">

                <div class="p-2">
                    <h6 th:text="${r.name}"></h6>

                    <p class="text-danger fw-bold"
                       th:text="${r.price} + ' ƒë'"></p>

                    <a th:href="@{/product/{id}(id=${r.id})}"
                       class="btn btn-sm"
                       style="background:#6d4c41;color:white;width:100%;">
                        Xem chi ti·∫øt
                    </a>
                </div>

            </div>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
