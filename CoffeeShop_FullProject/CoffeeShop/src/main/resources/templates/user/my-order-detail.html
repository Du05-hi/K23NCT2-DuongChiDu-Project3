<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi ti·∫øt ƒë∆°n h√†ng - CoffeeShop</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f3ede3;
            font-family: 'Segoe UI', sans-serif;
        }

        .navbar {
            background-color: #4e342e !important;
        }

        .navbar-brand, .nav-link {
            color: white !important;
            font-weight: 600;
        }

        .detail-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.18);
        }

        .info-title {
            font-weight: bold;
            color: #4e342e;
        }

        .status {
            font-weight: bold;
        }
        .status-pending { color: #e65100; }
        .status-completed { color: #2e7d32; }
        .status-cancelled { color: #b71c1c; }

        .btn-coffee {
            background-color: #6d4c41;
            color: white;
            font-weight: 600;
        }
        .btn-coffee:hover {
            background-color: #5d4037;
        }

        .product-img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 10px;
        }
    </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="/">CoffeeShop</a>
        <div>
            <a class="nav-link d-inline-block" href="/cart">üõí Gi·ªè h√†ng</a>
            <a class="nav-link d-inline-block" href="/login">üîê ƒêƒÉng nh·∫≠p</a>
        </div>
    </div>
</nav>

<div class="container mt-4">

    <h2>Chi ti·∫øt ƒë∆°n h√†ng</h2>

    <div class="detail-card mt-3">

        <!-- ORDER GENERAL INFO -->
        <p>
            <span class="info-title">M√£ ƒë∆°n h√†ng:</span>
            <span th:text="${order.id}"></span>
        </p>

        <p>
            <span class="info-title">Ng√†y ƒë·∫∑t:</span>
            <span th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy HH:mm')}"></span>
        </p>

        <p class="status"
           th:classappend="' status-' + ${order.status}">
            <span class="info-title">Tr·∫°ng th√°i:</span>
            <span th:text="${order.status}"></span>
        </p>

        <hr>

        <!-- CUSTOMER INFO -->
        <h5 class="info-title">Th√¥ng tin ng∆∞·ªùi nh·∫≠n</h5>

        <p><strong>H·ªç t√™n:</strong> <span th:text="${order.customerName}"></span></p>
        <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> <span th:text="${order.phone}"></span></p>
        <p><strong>ƒê·ªãa ch·ªâ:</strong> <span th:text="${order.address}"></span></p>

        <hr>

        <!-- ORDER ITEMS -->
        <h5 class="info-title">S·∫£n ph·∫©m ƒë√£ mua</h5>

        <table class="table table-bordered align-middle mt-3">
            <thead class="table-light">
            <tr>
                <th>·∫¢nh</th>
                <th>S·∫£n ph·∫©m</th>
                <th>Gi√°</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>T·∫°m t√≠nh</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="item : ${order.items}">
                <td><img th:src="${item.product.imageUrl}" class="product-img"></td>

                <td th:text="${item.product.name}"></td>

                <td th:text="${item.product.price} + ' ƒë'"></td>

                <td th:text="${item.quantity}"></td>

                <td class="text-danger fw-bold"
                    th:text="${item.product.price * item.quantity} + ' ƒë'"></td>
            </tr>
            </tbody>
        </table>

        <h4 class="text-end mt-3">
            T·ªïng ti·ªÅn:
            <span class="text-danger fw-bold" th:text="${order.total} + ' ƒë'"></span>
        </h4>

        <div class="mt-4 text-end">
            <a href="/my-orders" class="btn btn-coffee">‚¨Ö Quay l·∫°i danh s√°ch ƒë∆°n h√†ng</a>
        </div>

    </div>

</div>

</body>
</html>
